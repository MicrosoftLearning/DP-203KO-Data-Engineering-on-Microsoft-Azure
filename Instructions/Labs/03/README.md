# 소스 파일의 데이터 엔지니어링 관련 고려 사항

이 랩에서는 먼저 강사의 지침에 따라 20분 동안 개인이나 그룹 단위로 아래에 나와 있는 정보를 확인합니다. 그런 후에 강사의 질문에 답변을 하고, 요구 사항에 따라 랩에서 확인한 정보를 발표합니다. 

## 팀 활동

Wide World Importers는 Oracle 데이터베이스의 테이블에 저장되어 있는 영업 거래를 데이터 레이크로 복사하는 파이프라인을 작성하려고 합니다.

**요구 사항**

* 데이터를 복사하는 파이프라인은 매일 한 번씩 일정에 따라 실행됩니다.
* Wide World Importers는 최소한의 변환만 적용하여 이 원시 데이터를 수집하고자 합니다.
* 그리고 데이터 레이크에 원래 데이터의 복사본이 항상 포함된 상태를 유지하려고 합니다. 그래야 다운스트림 처리에서 계산 또는 변환 오류가 발생해도 원래 데이터에서 항상 계산을 다시 수행할 수 있기 때문입니다.
* 또한 데이터를 검사하고 처리할 때 특정 도구를 사용해야 하는 파일 형식은 사용하지 않으려고 합니다. 이를 위해 최대한 광범위한 업계 표준 도구에서 사용 가능한 파일 형식을 선택하려고 합니다.
* 마지막으로, 이 데이터 형식에 대해 일반적으로 수행하는 탐색 및 분석 쿼리를 효율적으로 처리할 수 있는 폴더 구조를 적용하려고 합니다.  

**데이터 예제**

WWI에서 제공한 데이터 예제는 다음과 같습니다 여기서는 WWI가 *가장* 대표적인 데이터가 포함된 행을 선택했다고 가정할 수 있습니다.

|SaleKey|CityKey|CustomerKey|BillToCustomerKey|StockItemKey|DeliveryDateKey|SalespersonKey|WWIInvoiceID|Description|Package|Quantity|UnitPrice|TaxRate|TotalExcludingTax|TaxAmount|Profit|TotalIncludingTax|TotalDryItems|TotalChillerItems|LineageKey
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- 
|294018|98706|0|0|25|2012-01-04|156|57894|검정/주황, 취급 주의 발송 테이프 48mmx75m|개별|144|3.70|15.000|532.80|79.92|345.60|612.72|144|0|14
|294019|98706|0|0|216|2012-01-04|156|57894|USB, 식품 플래시 드라이브 - 초밥|개별|5|32.00|15.000|160.00|24.00|100.00|184.00|5|0|14
|294020|98706|0|0|168|2012-01-04|156|57894|IT 업계 농담 머그컵 - 키보드를 찾을 수 없습니다. 계속하려면 F1 키를 누르세요(흰색)|개별|10|13.00|15.000|130.00|19.50|85.00|149.50|10|0|14
|294021|98706|0|0|100|2012-01-04|156|57894|공룡 슬리퍼(녹색) L 사이즈(배터리식)|개별|4|32.00|15.000|128.00|19.20|96.00|147.20|4|0|14

**과제**I

1. WWI는 원시 데이터에 어떤 데이터 형식을 사용해야 하나요? 해당 파일 형식을 추천한 이유를 두 가지 이상 제시하세요.

2. WWI는 디스크에서 데이터 집합이 직렬화되는 방식을 구성할 때 어떤 설정을 사용해야 하나요(`Description` 필드를 특히 주의하여 확인해야 함)? 해당 설정을 제안한 이유는 무엇인가요?

3. WWI가 계층형 파일 시스템에서 사용하도록 추천할 폴더 구조의 다이어그램을 그리세요. 파일 시스템, 폴더, 파일을 모두 포함해야 하며 각 레이어(파일 시스템, 폴더, 파일) 이름이 파생되는 방식의 설명도 기입해야 합니다.

4. 해당 폴더 구조에서는 이 데이터 형식에 대해 일반적으로 수행하는 탐색 및 분석 쿼리의 성능을 어떤 방식으로 지원하나요?

5. WWI는 이 데이터를 기밀로 간주합니다. 경쟁업체가 해당 데이터를 입수하면 큰 피해를 입을 수 있기 때문입니다. 데이터 레이크를 배포하고 데이터 레이크 엔드포인트 액세스를 보호할 방법에 해당하는 다이어그램을 그리세요. Azure Synapse Analytics 작업 영역과 데이터 레이크 간의 데이터 흐름 방식, 그리고 이러한 방식을 통해 WWI의 요구 사항을 충족할 수 있는 이유를 제시해야 합니다. 팔레트에 제공된 아이콘을 사용하여 솔루션의 다이어그램을 그리세요.

6. WWW는 권한이 있는 모든 사용자의 전체 데이터 쿼리를 허용하는 동시에, 영업 데이터를 작성한 연도에만 데이터를 수정할 수 있도록 하는 규칙을 적용하려고 합니다. 앞에서 WWI에 추천한 폴더 구조를 적용하는 경우 RBAC와 ACL을 사용하여 이러한 목표를 달성하려면 어떻게 해야 하나요? 2020년 1월 1일과 12월 31일에 수행해야 하는 작업을 설명하세요. 보안 그룹, 기본 제공 역할 및 액세스 권한의 다이어그램을 그리세요.
